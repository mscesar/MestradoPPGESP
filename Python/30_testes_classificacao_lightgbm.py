from sklearn.model_selection import StratifiedKFold

import numpy as np

from lightgbm import LGBMClassifier

from sklearn.metrics import matthews_corrcoef

folds = 10

import time
start = time.time()

resultados30 = []
for i in range(21,51):
    print(str(i))
    k_fold  = StratifiedKFold(n_splits = folds, shuffle = True, random_state = i)
    resultados1 = []
    for indice_treinamento, indice_teste in k_fold.split(X, np.zeros(shape=(Y.shape[0], 1))):

        #Classificador 04
        #classifier = LGBMClassifier( max_depth = 100, learning_rate = 0.3, num_leaves = 500, n_estimators = 500 )
        #Classificador 07
        #classifier = LGBMClassifier( max_depth = 1000, learning_rate = 0.15, num_leaves = 2000, min_data_in_leaf = 200, n_estimators = 2000, n_jobs = 3 )
        #Classificador 08
        #classifier = LGBMClassifier( max_depth = 1000, learning_rate = 0.1, num_leaves = 2000, min_data_in_leaf = 200, n_estimators = 2000, n_jobs = 3 )
        #Classificador 28
        #classifier = LGBMClassifier( max_depth = 1880, learning_rate = 0.1, num_leaves = 100, n_estimators = 4500, min_data_in_leaf = 140, n_jobs = 3 )

        classifier.fit(X[indice_treinamento], Y[indice_treinamento])
        previsoes = classifier.predict(X[indice_teste])
        escore = matthews_corrcoef(Y[indice_teste], previsoes)
        resultados1.append(escore)
    resultados1 = np.asarray(resultados1)
    media = resultados1.mean()
    resultados30.append(media)
    
end = time.time()
print("Tempo de Execução: {:.2f} min".format((end - start)/60))

#LightGBM 28
Tempo de Execução: 3307.21 min

#LightGBM 08
Tempo de Execução: 2067.47 min

#LightGBM 07
Tempo de Execução: 1687.56 min

#LightGBM 04
Tempo de Execução: 2982.74 min

resultados30 = np.asarray(resultados30)    
resultados30.mean()

#LightGBM 28
0.7661946176172575

#LightGBM 08
0.759573247846238

#LightGBM 07
0.7586835771354846

#LightGBM 04
0.7542231868345218

for i in range(resultados30.size):
    print(str(resultados30[i]).replace('.', ','))
    
#LightGBM 28
0,7653322899200401
0,7643301006398493
0,7670946016873945
0,766018711498434
0,7660721924904783
0,7661761614895415
0,7648284997309689
0,7664682821345836
0,7648826535128957
0,7659722797677362
0,768144388106665
0,7649503843838091
0,7674094942373493
0,766337339827342
0,7688342674765545
0,7662646165714461
0,7665904832066207
0,7654601188395262
0,7680707953011332
0,7651210667963386
0,7675930128614599
0,7657184628414038
0,7669866648974504
0,7630618420590195
0,7675738433970448
0,7670453654888317
0,7668200444217603
0,7646379722304812
0,7664678339273366
0,765574758774225

#LightGBM 08
0,7591750984761289
0,7567048051496594
0,7598280978843845
0,7613082694894211
0,7602973920035334
0,7574541960300103
0,7604080221414123
0,759266195108305
0,7581763093983572
0,7589791244702865
0,7591028443188027
0,7586519756610739
0,7575793526662868
0,760345633364788
0,7598827996588579
0,7576803030279066
0,7582256173830663
0,7605822557554094
0,7594918678972187
0,7596215033583392
0,760430596257627
0,7602397224189333
0,7612266752578656
0,7581450466194779
0,7622878346840404
0,7615768172261964
0,7616221961379203
0,7605115237415261
0,7596397834689561
0,7587555763313502

#LightGBM 07
0,7578143935717752
0,7576379441738839
0,7585242842966905
0,7593312493927609
0,7584092367740514
0,758879694647834
0,758249463907121
0,7582615958558065
0,7549815577255055
0,7589977759575259
0,7585975496624824
0,7590626482969774
0,7585079989217691
0,7567924191120243
0,7622547306636546
0,7575867633359373
0,7596220186519315
0,7589931670925185
0,7612761042795546
0,7592688320873661
0,7591410028116564
0,7614614626291984
0,7592710438048863
0,7582893853809912
0,7601815547627133
0,7600966162956914
0,7576596464379901
0,7588090846405974
0,757041043811198
0,7555070450824513

#LightGBM 04
0,7521015596037466
0,751813183178917
0,7547239088441983
0,7549338566158916
0,7532859367292111
0,7538894543501388
0,7535390845696444
0,7530058274036487
0,7547936435500087
0,7551166208371003
0,7542646812788768
0,7497058749556701
0,7554664182573895
0,7521230197122184
0,755772804508483
0,757006398324296
0,7550731629780103
0,7568006343613354
0,7520640528437295
0,7546736465053228
0,7560478035257642
0,7570395412924255
0,7558485459903729
0,7542951396738166
0,7554576043125382
0,7523624676998683
0,7543004802836171
0,7545315171738536
0,7536974695381896
0,7529612661373724